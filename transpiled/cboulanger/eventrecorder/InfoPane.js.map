{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/source/class/cboulanger/eventrecorder/InfoPane.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "ui",
    "popup",
    "Popup",
    "statics",
    "icon",
    "construct",
    "layout",
    "Canvas",
    "set",
    "decorator",
    "minWidth",
    "minHeight",
    "padding",
    "backgroundColor",
    "autoHide",
    "__atom",
    "basic",
    "Atom",
    "getChildControl",
    "rich",
    "wrap",
    "add",
    "addListenerOnce",
    "center",
    "members",
    "isVisible",
    "bounds",
    "getBounds",
    "marginTop",
    "Math",
    "round",
    "bom",
    "Document",
    "getHeight",
    "height",
    "marginLeft",
    "getWidth",
    "width",
    "display",
    "text",
    "widgetToPlaceTo",
    "hide",
    "setLabel",
    "show",
    "placeToWidget",
    "event",
    "Timer",
    "once",
    "getDisplayedText",
    "getLabel",
    "useIcon",
    "alias",
    "iconpath",
    "cboulanger",
    "eventrecorder",
    "InfoPane",
    "Error",
    "setIcon",
    "animate",
    "animation",
    "duration",
    "keyFrames",
    "scale",
    "rotate",
    "element",
    "Animation",
    "getContentElement",
    "getDomElement",
    "destruct",
    "_disposeObjects"
  ],
  "mappings": "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",
  "file": "InfoPane.js",
  "sourcesContent": [
    "/**\n * A singleton instance of a popup to display informational text (and optionally, an icon) to the user.\n * @asset(qx/icon/Tango/32/status/dialog-information.png)\n */\nqx.Class.define(\"cboulanger.eventrecorder.InfoPane\", {\n  type: \"singleton\",\n  extend: qx.ui.popup.Popup,\n  statics:{\n    icon:{\n      \"waiting\":  \"cboulanger/eventrecorder/ajax-loader.gif\",\n      \"info\":     \"icon/32/status/dialog-information.png\"\n    }\n  },\n  construct: function() {\n    this.base(arguments, new qx.ui.layout.Canvas());\n    this.set({\n      decorator: \"window\",\n      minWidth: 100,\n      minHeight: 30,\n      padding: 10,\n      backgroundColor: \"#f0f0f0\",\n      autoHide: false\n    });\n    this.__atom = new qx.ui.basic.Atom();\n    this.__atom.getChildControl(\"label\").set({\n      rich: true,\n      wrap: true\n    });\n    this.add(this.__atom);\n    this.addListenerOnce(\"appear\", this.center, this);\n  },\n  members: {\n\n    __atom: null,\n\n    /**\n     * Center the widget\n     * @return {cboulanger.eventrecorder.InfoPane}\n     */\n    center() {\n      if (!this.isVisible()) {\n        this.addListenerOnce(\"appear\", this.center, this);\n        return this;\n      }\n      let bounds = this.getBounds();\n      this.set({\n        marginTop: Math.round(\n          (qx.bom.Document.getHeight() - bounds.height) / 2\n        ),\n        marginLeft: Math.round(\n          (qx.bom.Document.getWidth() - bounds.width) / 2\n        )\n      });\n      return this;\n    },\n\n    /**\n     * Displays the given text. Can optionally be placed next to a widget\n     * @param text {String|false} The text to display. If false, hide the widget\n     * @param widgetToPlaceTo {qx.ui.core.Widget|undefined} If given, place the\n     * info panel next to this widget\n     * @return {cboulanger.eventrecorder.InfoPane}\n     */\n    display(text, widgetToPlaceTo=false) {\n      if (!text) {\n        this.hide();\n      }\n      this.__atom.setLabel(text);\n      this.show();\n      if (widgetToPlaceTo) {\n        this.set({\n          marginTop:0,\n          marginLeft: 0\n        });\n        if (widgetToPlaceTo.isVisible()) {\n          this.placeToWidget(widgetToPlaceTo, true);\n        } else {\n          widgetToPlaceTo.addListenerOnce(\"appear\", () => {\n            this.placeToWidget(widgetToPlaceTo, true);\n          });\n        }\n      } else {\n        qx.event.Timer.once(this.center, this, 100);\n      }\n      return this;\n    },\n\n    /**\n     * Return the content of the text label\n     * @return {String}\n     */\n    getDisplayedText() {\n      return this.__atom.getLabel();\n    },\n\n    /**\n     * When displaying the info, show the icon associated with the given alias\n     * @param alias\n     * @return {cboulanger.eventrecorder.InfoPane}\n     */\n    useIcon(alias) {\n      let iconpath = cboulanger.eventrecorder.InfoPane.icon[alias];\n      if (!iconpath) {\n        throw new Error(`Icon alias \"${alias}\" is invalid.`);\n      }\n      this.__atom.setIcon(iconpath);\n      return this;\n    },\n\n    /**\n     * Animate the info pane to draw attention from the user\n     * @return {cboulanger.eventrecorder.InfoPane}\n     */\n    animate() {\n      if (!this.isVisible()) {\n        this.addListenerOnce(\"appear\", this.animate, this);\n        return this.show();\n      }\n      let animation = {duration: 1000, keyFrames : {\n          0 :  {scale: 1, rotate: \"0deg\"},\n          10 : {scale: 0.9, rotate: \"-3deg\"},\n          20 : {scale: 0.9, rotate: \"-3deg\"},\n          30 : {scale: 1.1, rotate: \"3deg\"},\n          40 : {scale: 1.1, rotate: \"-3deg\"},\n          50 : {scale: 1.1, rotate: \"3deg\"},\n          60 : {scale: 1.1, rotate: \"-3deg\"},\n          70 : {scale: 1.1, rotate: \"3deg\"},\n          80 : {scale: 1.1, rotate: \"-3deg\"},\n          90 : {scale: 1.1, rotate: \"3deg\"},\n          100 : {scale: 1, rotate: \"0deg\"}\n        }};\n      qx.bom.element.Animation.animate(this.getContentElement().getDomElement(), animation);\n      return this;\n    },\n\n    /**\n     * Show the info pane. Overridden to return instance & allow chaining method calls.\n     * @return {cboulanger.eventrecorder.InfoPane}\n     */\n    show() {\n      this.base(arguments);\n      return this;\n    }\n  },\n\n  /**\n    * Destructor\n    */\n  destruct: function() {\n    this._disposeObjects(\"__atom\");\n  }\n});\n"
  ]
}