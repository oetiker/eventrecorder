{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/contrib/ergobyte_qookery_v0.7.0-pre/qookery/source/class/qookery/internal/components/FieldComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "qookery",
    "internal",
    "components",
    "EditableComponent",
    "construct",
    "parentComponent",
    "members",
    "getAttributeType",
    "attributeName",
    "create",
    "attributes",
    "_setupTextField",
    "widget",
    "_applyAttribute",
    "Qookery",
    "getOption",
    "OPTION_DEFAULT_NATIVE_CONTEXT_MENU",
    "addListener",
    "event",
    "_disableValueEvents",
    "text",
    "getData",
    "trim",
    "length",
    "format",
    "getFormat",
    "value",
    "parse",
    "getEditableWidget",
    "setValue",
    "_getLabelOf",
    "_setValueSilently",
    "isReadOnly",
    "isShiftPressed",
    "isAltPressed",
    "isCtrlPressed",
    "getKeyIdentifier",
    "liveUpdate",
    "getAttribute",
    "OPTION_DEFAULT_LIVE_UPDATE",
    "addListenerOnce",
    "component",
    "bom",
    "Event",
    "addNativeListener",
    "getContentElement",
    "getDomElement",
    "getValue",
    "setLiveUpdate",
    "_updateUI",
    "_applyReadOnly",
    "readOnly",
    "editableWidget",
    "setReadOnly",
    "FieldComponent"
  ],
  "mappings": ";;;;;;;;;;;;;;;AAAAA,IAAGC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC,EAkBAH,GAAGI,KAAH,CAASC,MAAT,CAAgB,4CAAhB,EAA8D;;AAE7DC,QAAM,UAFuD;AAG7DC,UAAQC,QAAQC,QAAR,CAAiBC,UAAjB,CAA4BC,iBAHyB;;AAK7DC,aAAW,mBAASC,eAAT,EAA0B;AACpC,wEAAqBA,eAArB;AACA,GAP4D;;AAS7DC,WAAS;;AAER;;AAEAC,qBAAkB,0BAASC,aAAT,EAAwB;AACzC,YAAOA,aAAP;AACA,UAAK,QAAL;AAAe,aAAO,mBAAP;AACf,UAAK,YAAL;AAAmB,aAAO,SAAP;AACnB,UAAK,aAAL;AAAoB,aAAO,mBAAP;AACpB,UAAK,YAAL;AAAmB,aAAO,QAAP;AAJnB;AAMA,iGAA4BA,aAA5B;AACA,IAZO;;AAcR;;AAEAC,WAAQ,gBAASC,UAAT,EAAqB;AAC5B,gFAAqBA,UAArB;AACA,IAlBO;;AAoBRC,oBAAiB,yBAASC,MAAT,EAAiB;AACjC,SAAKC,eAAL,CAAqB,qBAArB,EAA4CD,MAA5C,EAAoD,mBAApD,EAAyEZ,QAAQc,OAAR,CAAgBC,SAAhB,CAA0Bf,QAAQc,OAAR,CAAgBE,kCAA1C,CAAzE;AACAJ,WAAOK,WAAP,CAAmB,aAAnB,EAAkC,UAASC,KAAT,EAAgB;AACjD,SAAG,KAAKC,mBAAR,EACC;AACD,SAAIC,OAAOF,MAAMG,OAAN,EAAX;AACA,SAAGD,QAAQ,IAAR,IAAgBA,KAAKE,IAAL,GAAYC,MAAZ,KAAuB,CAA1C,EACCH,OAAO,IAAP;AACD,SAAII,SAAS,KAAKC,SAAL,EAAb;AACA,SAAIC,QAAQF,UAAU,IAAV,GAAiBA,OAAOG,KAAP,CAAaP,IAAb,CAAjB,GAAsCA,IAAlD;AACA,UAAKQ,iBAAL,GAAyBC,QAAzB,CAAkC,KAAKC,WAAL,CAAiBJ,KAAjB,CAAlC;AACA,UAAKK,iBAAL,CAAuBL,KAAvB;AACA,KAVD,EAUG,IAVH;AAWAd,WAAOK,WAAP,CAAmB,UAAnB,EAA+B,UAASC,KAAT,EAAgB;AAC9C,SAAG,KAAKc,UAAL,MAAqB,CAACd,MAAMe,cAAN,EAAtB,IAAgDf,MAAMgB,YAAN,EAAhD,IAAwEhB,MAAMiB,aAAN,EAA3E,EACC;AACD,aAAOjB,MAAMkB,gBAAN,EAAP;AACA,WAAK,QAAL;AACA,WAAK,WAAL;AACC,YAAKP,QAAL,CAAc,IAAd;AACA;AAJD;AAMA,KATD,EASG,IATH;AAUA,QAAIQ,aAAa,KAAKC,YAAL,CAAkB,aAAlB,EAAiCtC,QAAQc,OAAR,CAAgBC,SAAhB,CAA0Bf,QAAQc,OAAR,CAAgByB,0BAA1C,CAAjC,CAAjB;AACA,QAAGF,UAAH,EAAe;AACdzB,YAAO4B,eAAP,CAAuB,QAAvB,EAAiC,YAAW;AAC3C,UAAIC,YAAY,IAAhB;AACAjD,SAAGkD,GAAH,CAAOC,KAAP,CAAaC,iBAAb,CAA+BhC,OAAOiC,iBAAP,GAA2BC,aAA3B,EAA/B,EAA2E,OAA3E,EAAoF,YAAW;AAC9FL,iBAAUZ,QAAV,CAAmB,KAAKH,KAAxB;AACA,OAFD;AAGA,MALD,EAKG,IALH;AAMAd,YAAOK,WAAP,CAAmB,MAAnB,EAA2B,UAASC,KAAT,EAAgB;AAC1C,UAAG,KAAKC,mBAAR,EACC;AACD,UAAIK,SAAS,KAAKC,SAAL,EAAb;AACA,UAAGD,UAAU,IAAb,EACC;AACD,UAAIJ,OAAO,KAAKQ,iBAAL,GAAyBmB,QAAzB,EAAX;AACA,UAAIrB,QAAQF,OAAOG,KAAP,CAAaP,IAAb,CAAZ;AACAA,aAAOI,OAAOA,MAAP,CAAcE,KAAd,CAAP;AACA,WAAKE,iBAAL,GAAyBC,QAAzB,CAAkCT,IAAlC;AACA,MAVD,EAUG,IAVH;AAWAR,YAAOoC,aAAP,CAAqB,IAArB;AACA;AACD,SAAKnC,eAAL,CAAqB,QAArB,EAA+BD,MAA/B,EAAuC,QAAvC;AACA,SAAKC,eAAL,CAAqB,YAArB,EAAmCD,MAAnC,EAA2C,WAA3C;AACA,SAAKC,eAAL,CAAqB,aAArB,EAAoCD,MAApC,EAA4C,aAA5C;AACA,SAAKC,eAAL,CAAqB,YAArB,EAAmCD,MAAnC,EAA2C,WAA3C;AACA,WAAOA,MAAP;AACA,IArEO;;AAuERqC,cAAW,mBAASvB,KAAT,EAAgB;AAC1B,SAAKE,iBAAL,GAAyBC,QAAzB,CAAkC,KAAKC,WAAL,CAAiBJ,KAAjB,CAAlC;AACA,IAzEO;;AA2ERwB,mBAAgB,wBAASC,QAAT,EAAmB;AAClC,wFAAqBA,QAArB;AACA,QAAIC,iBAAiB,KAAKxB,iBAAL,EAArB;AACA,QAAGwB,kBAAkB,IAArB,EACCA,eAAeC,WAAf,CAA2BF,QAA3B;AACD;AAhFO;AAToD,EAA9D,C;AAlBAnD,SAAQC,QAAR,CAAiBC,UAAjB,CAA4BoD,cAA5B,CAA2C3D,aAA3C,GAA2DA,aAA3D",
  "file": "FieldComponent.js",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.FieldComponent\", {\n\n\ttype: \"abstract\",\n\textend: qookery.internal.components.EditableComponent,\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t},\n\n\tmembers: {\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"filter\": return \"RegularExpression\";\n\t\t\tcase \"max-length\": return \"Integer\";\n\t\t\tcase \"placeholder\": return \"ReplaceableString\";\n\t\t\tcase \"text-align\": return \"String\";\n\t\t\t}\n\t\t\treturn this.base(arguments, attributeName);\n\t\t},\n\n\t\t// Construction\n\n\t\tcreate: function(attributes) {\n\t\t\tthis.base(arguments, attributes);\n\t\t},\n\n\t\t_setupTextField: function(widget) {\n\t\t\tthis._applyAttribute(\"native-context-menu\", widget, \"nativeContextMenu\", qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_NATIVE_CONTEXT_MENU));\n\t\t\twidget.addListener(\"changeValue\", function(event) {\n\t\t\t\tif(this._disableValueEvents)\n\t\t\t\t\treturn;\n\t\t\t\tvar text = event.getData();\n\t\t\t\tif(text != null && text.trim().length === 0)\n\t\t\t\t\ttext = null;\n\t\t\t\tvar format = this.getFormat();\n\t\t\t\tvar value = format != null ? format.parse(text) : text;\n\t\t\t\tthis.getEditableWidget().setValue(this._getLabelOf(value));\n\t\t\t\tthis._setValueSilently(value);\n\t\t\t}, this);\n\t\t\twidget.addListener(\"keypress\", function(event) {\n\t\t\t\tif(this.isReadOnly() || !event.isShiftPressed() || event.isAltPressed() || event.isCtrlPressed())\n\t\t\t\t\treturn;\n\t\t\t\tswitch(event.getKeyIdentifier()) {\n\t\t\t\tcase \"Delete\":\n\t\t\t\tcase \"Backspace\":\n\t\t\t\t\tthis.setValue(null);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}, this);\n\t\t\tvar liveUpdate = this.getAttribute(\"live-update\", qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_LIVE_UPDATE));\n\t\t\tif(liveUpdate) {\n\t\t\t\twidget.addListenerOnce(\"appear\", function() {\n\t\t\t\t\tvar component = this;\n\t\t\t\t\tqx.bom.Event.addNativeListener(widget.getContentElement().getDomElement(), \"paste\", function() {\n\t\t\t\t\t\tcomponent.setValue(this.value);\n\t\t\t\t\t});\n\t\t\t\t}, this);\n\t\t\t\twidget.addListener(\"blur\", function(event) {\n\t\t\t\t\tif(this._disableValueEvents)\n\t\t\t\t\t\treturn;\n\t\t\t\t\tvar format = this.getFormat();\n\t\t\t\t\tif(format == null)\n\t\t\t\t\t\treturn;\n\t\t\t\t\tvar text = this.getEditableWidget().getValue();\n\t\t\t\t\tvar value = format.parse(text);\n\t\t\t\t\ttext = format.format(value);\n\t\t\t\t\tthis.getEditableWidget().setValue(text);\n\t\t\t\t}, this);\n\t\t\t\twidget.setLiveUpdate(true);\n\t\t\t}\n\t\t\tthis._applyAttribute(\"filter\", widget, \"filter\");\n\t\t\tthis._applyAttribute(\"max-length\", widget, \"maxLength\");\n\t\t\tthis._applyAttribute(\"placeholder\", widget, \"placeholder\");\n\t\t\tthis._applyAttribute(\"text-align\", widget, \"textAlign\");\n\t\t\treturn widget;\n\t\t},\n\n\t\t_updateUI: function(value) {\n\t\t\tthis.getEditableWidget().setValue(this._getLabelOf(value));\n\t\t},\n\n\t\t_applyReadOnly: function(readOnly) {\n\t\t\tthis.base(arguments, readOnly);\n\t\t\tvar editableWidget = this.getEditableWidget();\n\t\t\tif(editableWidget != null)\n\t\t\t\teditableWidget.setReadOnly(readOnly);\n\t\t}\n\t}\n});\n"
  ]
}