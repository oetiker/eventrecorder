{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/contrib/ergobyte_qookery_v0.7.0-pre/qookery/source/class/qookery/internal/components/AbstractSelectBoxComponent.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "qookery",
    "internal",
    "components",
    "EditableComponent",
    "statics",
    "_NULL_ITEM_MODEL",
    "construct",
    "parentComponent",
    "members",
    "getAttributeType",
    "attributeName",
    "_applySelectBoxAttributes",
    "selectBox",
    "_applyAttribute",
    "_applyWidgetAttributes",
    "_applyConnection",
    "modelProvider",
    "connection",
    "getAttribute",
    "undefined",
    "mapName",
    "setItems",
    "Qookery",
    "getRegistry",
    "getMap",
    "setup",
    "addItem",
    "model",
    "label",
    "icon",
    "_getLabelOf",
    "item",
    "ui",
    "form",
    "ListItem",
    "getMainWidget",
    "existingItems",
    "getChildren",
    "index",
    "length",
    "existingItem",
    "getModel",
    "AbstractSelectBoxComponent",
    "getLabel",
    "addAt",
    "add",
    "addNullItem",
    "removeAllItems",
    "removeAll",
    "forEach",
    "destroy",
    "getItems",
    "items",
    "_disableValueEvents",
    "data",
    "Array",
    "toArray",
    "lang",
    "Type",
    "isArray",
    "i",
    "isObject",
    "Conversion",
    "toString",
    "_updateUI",
    "getValue",
    "_applyEnabled",
    "enabled",
    "labelWidget",
    "getLabelWidget",
    "setEnabled",
    "__updateEnabled",
    "_applyReadOnly",
    "readOnly",
    "isEnabled",
    "getEnabled",
    "isReadOnly",
    "getReadOnly"
  ],
  "mappings": "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",
  "file": "AbstractSelectBoxComponent.js",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.components.AbstractSelectBoxComponent\", {\n\n\ttype : \"abstract\",\n\textend: qookery.internal.components.EditableComponent,\n\n\tstatics: {\n\t\t_NULL_ITEM_MODEL: \"\"\n\t},\n\n\tconstruct: function(parentComponent) {\n\t\tthis.base(arguments, parentComponent);\n\t},\n\n\tmembers: {\n\n\t\t// Metadata\n\n\t\tgetAttributeType: function(attributeName) {\n\t\t\tswitch(attributeName) {\n\t\t\tcase \"keep-sorted\": return \"Boolean\";\n\t\t\tcase \"map\": return \"String\";\n\t\t\tcase \"max-list-height\": return \"Number\";\n\t\t\tcase \"null-item-label\": return \"ReplaceableString\";\n\t\t\t}\n\t\t\treturn this.base(arguments, attributeName);\n\t\t},\n\n\t\t// Construction\n\n\t\t_applySelectBoxAttributes: function(selectBox) {\n\t\t\tthis._applyAttribute(\"max-list-height\", selectBox, \"maxListHeight\");\n\t\t\tthis._applyWidgetAttributes(selectBox);\n\t\t},\n\n\t\t_applyConnection: function(modelProvider, connection) {\n\t\t\tif(this.getAttribute(\"map\") === undefined) {\n\t\t\t\tvar mapName = connection.getAttribute(\"map\");\n\t\t\t\tif(mapName != null)\n\t\t\t\t\tthis.setItems(qookery.Qookery.getRegistry().getMap(mapName));\n\t\t\t}\n\t\t\tthis.base(arguments, modelProvider, connection);\n\t\t},\n\n\t\tsetup: function() {\n\t\t\tvar mapName = this.getAttribute(\"map\");\n\t\t\tif(mapName !== undefined)\n\t\t\t\tthis.setItems(qookery.Qookery.getRegistry().getMap(mapName));\n\t\t\tthis.base(arguments);\n\t\t},\n\n\t\t// Public methods\n\n\t\taddItem: function(model, label, icon) {\n\t\t\tif(label == null)\n\t\t\t\tlabel = this._getLabelOf(model);\n\t\t\tvar item = new qx.ui.form.ListItem(label, icon, model);\n\t\t\tvar selectBox = this.getMainWidget();\n\t\t\tif(this.getAttribute(\"keep-sorted\", true)) {\n\t\t\t\tvar existingItems = selectBox.getChildren();\n\t\t\t\tfor(var index = 0; index < existingItems.length; index++) {\n\t\t\t\t\tvar existingItem = existingItems[index];\n\t\t\t\t\tif(existingItem.getModel() === qookery.internal.components.AbstractSelectBoxComponent._NULL_ITEM_MODEL)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif(existingItem.getLabel() > label)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tselectBox.addAt(item, index);\n\t\t\t}\n\t\t\telse selectBox.add(item);\n\t\t},\n\n\t\taddNullItem: function(label, icon) {\n\t\t\tif(label === undefined)\n\t\t\t\tlabel = this.getAttribute(\"null-item-label\", \"\");\n\t\t\tif(icon === undefined)\n\t\t\t\ticon = null;\n\t\t\tvar item = new qx.ui.form.ListItem(label, icon, qookery.internal.components.AbstractSelectBoxComponent._NULL_ITEM_MODEL);\n\t\t\tthis.getMainWidget().add(item);\n\t\t},\n\n\t\tremoveAllItems: function() {\n\t\t\tthis.getMainWidget().removeAll().forEach(function(item) { item.destroy(); });\n\t\t},\n\n\t\tgetItems: function() {\n\t\t\treturn this.getMainWidget().getChildren();\n\t\t},\n\n\t\tsetItems: function(items) {\n\t\t\tthis._disableValueEvents = true;\n\t\t\ttry {\n\t\t\t\tthis.removeAllItems();\n\t\t\t\tif(this.getAttribute(\"null-item-label\") !== undefined) {\n\t\t\t\t\tthis.addNullItem();\n\t\t\t\t}\n\t\t\t\tif(items instanceof qx.data.Array) {\n\t\t\t\t\titems = items.toArray();\n\t\t\t\t}\n\t\t\t\tif(qx.lang.Type.isArray(items)) {\n\t\t\t\t\tfor(var i = 0; i < items.length; i++) {\n\t\t\t\t\t\tvar item = items[i];\n\t\t\t\t\t\tif(item instanceof qx.ui.form.ListItem)\n\t\t\t\t\t\t\tthis.getMainWidget().add(item);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.addItem(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(qx.lang.Type.isObject(items)) {\n\t\t\t\t\tfor(var model in items) {\n\t\t\t\t\t\tvar label = items[model];\n\t\t\t\t\t\tthis.addItem(model, qx.data.Conversion.toString(label));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfinally {\n\t\t\t\tthis._disableValueEvents = false;\n\t\t\t}\n\t\t\tthis._updateUI(this.getValue());\n\t\t},\n\n\t\t// Internals\n\n\t\t_applyEnabled: function(enabled) {\n\t\t\tvar labelWidget = this.getLabelWidget();\n\t\t\tif(labelWidget != null)\n\t\t\t\tlabelWidget.setEnabled(enabled);\n\t\t\tthis.__updateEnabled();\n\t\t},\n\n\t\t_applyReadOnly: function(readOnly) {\n\t\t\tthis.base(arguments, readOnly);\n\t\t\tthis.__updateEnabled();\n\t\t},\n\n\t\t__updateEnabled: function() {\n\t\t\tvar isEnabled = this.getEnabled();\n\t\t\tvar isReadOnly = this.getReadOnly();\n\t\t\tthis.getMainWidget().setEnabled(isEnabled && !isReadOnly);\n\t\t}\n\t}\n});\n"
  ]
}