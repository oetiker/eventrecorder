{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/contrib/ergobyte_qookery_v0.7.0-pre/qookery/source/class/qookery/internal/layouts/GridLayoutFactory.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "qookery",
    "ILayoutFactory",
    "type",
    "statics",
    "__patchLayout",
    "layout",
    "attributes",
    "configureFunction",
    "widget",
    "internal",
    "layouts",
    "GridLayoutFactory",
    "__configureWidget",
    "call",
    "rowArray",
    "currentRow",
    "currentColumn",
    "columnCount",
    "getAttribute",
    "i",
    "push",
    "configureWidget",
    "properties",
    "getLayoutProperties",
    "colSpan",
    "rowSpan",
    "setLayoutProperties",
    "row",
    "column",
    "length",
    "j",
    "members",
    "createLayout",
    "defaultSpacingX",
    "Qookery",
    "getOption",
    "OPTION_DEFAULT_LAYOUT_SPACING_X",
    "defaultSpacingY",
    "OPTION_DEFAULT_LAYOUT_SPACING_Y",
    "ui",
    "Grid",
    "spacing",
    "setSpacingX",
    "setSpacingY",
    "spacingX",
    "spacingY",
    "columnFlexes",
    "util",
    "StringSplit",
    "split",
    "forEach",
    "columnFlex",
    "index",
    "setColumnFlex",
    "parseInt",
    "rowFlexes",
    "rowFlex",
    "setRowFlex"
  ],
  "mappings": "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",
  "file": "GridLayoutFactory.js",
  "sourcesContent": [
    "/*\n\tQookery - Declarative UI Building for Qooxdoo\n\n\tCopyright (c) Ergobyte Informatics S.A., www.ergobyte.gr\n\n\tLicensed under the Apache License, Version 2.0 (the \"License\");\n\tyou may not use this file except in compliance with the License.\n\tYou may obtain a copy of the License at\n\n\t\thttp://www.apache.org/licenses/LICENSE-2.0\n\n\tUnless required by applicable law or agreed to in writing, software\n\tdistributed under the License is distributed on an \"AS IS\" BASIS,\n\tWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\tSee the License for the specific language governing permissions and\n\tlimitations under the License.\n*/\n\nqx.Class.define(\"qookery.internal.layouts.GridLayoutFactory\", {\n\n\textend: qx.core.Object,\n\timplement: [ qookery.ILayoutFactory ],\n\ttype: \"singleton\",\n\n\tstatics: {\n\n\t\t/* Patch layout with automatic child row-column assignment code*/\n\t\t__patchLayout: function(layout, attributes) {\n\t\t\tvar configureFunction = function(widget) {\n\t\t\t\tqookery.internal.layouts.GridLayoutFactory.__configureWidget.call(configureFunction, widget);\n\t\t\t};\n\t\t\tconfigureFunction.rowArray = null;\n\t\t\tconfigureFunction.currentRow = 0;\n\t\t\tconfigureFunction.currentColumn = 0;\n\t\t\tvar columnCount = attributes.getAttribute(\"column-count\", 1);\n\t\t\tif(columnCount !== \"auto\") {\n\t\t\t\tconfigureFunction.rowArray = [ ];\n\t\t\t\tfor(var i = 0; i < columnCount; i++)\n\t\t\t\t\tconfigureFunction.rowArray.push(0);\n\t\t\t}\n\t\t\tlayout.configureWidget = configureFunction;\n\t\t},\n\n\t\t/* Perform automatic row-column assignment for a new child, if needed */\n\t\t__configureWidget: function(widget) {\n\t\t\tvar properties = widget.getLayoutProperties();\n\t\t\tif(properties[\"row\"] != null && properties[\"column\"] != null) return;\n\t\t\tvar colSpan = properties[\"colSpan\"] || 1;\n\t\t\tvar rowSpan = properties[\"rowSpan\"] || 1;\n\t\t\tif(this.rowArray == null) {\n\t\t\t\twidget.setLayoutProperties({ row: 0, column: this.currentColumn, colSpan: colSpan });\n\t\t\t\tthis.currentColumn += colSpan;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile(this.rowArray[this.currentColumn] > 0) {\n\t\t\t\tthis.rowArray[this.currentColumn]--;\n\t\t\t\tthis.currentColumn++;\n\t\t\t\tif(this.currentColumn >= this.rowArray.length) {\n\t\t\t\t\tthis.currentColumn = 0;\n\t\t\t\t\tthis.currentRow++;\n\t\t\t\t}\n\t\t\t}\n\t\t\twidget.setLayoutProperties({ row: this.currentRow, column: this.currentColumn, colSpan: colSpan, rowSpan: rowSpan });\n\t\t\tfor(var j = 0; j < colSpan; j++) {\n\t\t\t\tthis.rowArray[this.currentColumn] += rowSpan - 1;\n\t\t\t\tthis.currentColumn++;\n\t\t\t}\n\t\t\tif(this.currentColumn >= this.rowArray.length) {\n\t\t\t\tthis.currentColumn = 0;\n\t\t\t\tthis.currentRow++;\n\t\t\t}\n\t\t}\n\t},\n\n\tmembers: {\n\n\t\tcreateLayout: function(attributes) {\n\t\t\tvar defaultSpacingX = qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_LAYOUT_SPACING_X, 0);\n\t\t\tvar defaultSpacingY = qookery.Qookery.getOption(qookery.Qookery.OPTION_DEFAULT_LAYOUT_SPACING_Y, 0);\n\t\t\tvar layout = new qx.ui.layout.Grid(defaultSpacingX, defaultSpacingY);\n\t\t\tvar spacing = attributes.getAttribute(\"spacing\");\n\t\t\tif(spacing != null) {\n\t\t\t\tlayout.setSpacingX(spacing);\n\t\t\t\tlayout.setSpacingY(spacing);\n\t\t\t}\n\t\t\tvar spacingX = attributes.getAttribute(\"spacing-x\");\n\t\t\tif(spacingX != null)\n\t\t\t\tlayout.setSpacingX(spacingX);\n\t\t\tvar spacingY = attributes.getAttribute(\"spacing-y\");\n\t\t\tif(spacingY != null)\n\t\t\t\tlayout.setSpacingY(spacingY);\n\t\t\tvar columnFlexes = attributes.getAttribute(\"column-flexes\");\n\t\t\tif(columnFlexes != null)\n\t\t\t\tqx.util.StringSplit.split(columnFlexes, /\\s+/).forEach(function(columnFlex, index) {\n\t\t\t\t\tlayout.setColumnFlex(index, parseInt(columnFlex, 10));\n\t\t\t\t}, this);\n\t\t\tvar rowFlexes = attributes.getAttribute(\"row-flexes\");\n\t\t\tif(rowFlexes != null)\n\t\t\t\tqx.util.StringSplit.split(rowFlexes, /\\s+/).forEach(function(rowFlex, index) {\n\t\t\t\t\tlayout.setRowFlex(index, parseInt(rowFlex, 10));\n\t\t\t\t}, this);\n\t\t\tqookery.internal.layouts.GridLayoutFactory.__patchLayout(layout, attributes);\n\t\t\treturn layout;\n\t\t}\n\t}\n});\n"
  ]
}